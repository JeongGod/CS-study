# Database (데이터베이스)

> 작성자 : [박재용](https://github.com/ggjae), [서그림](https://github.com/Seogeurim), [윤가영](https://github.com/yoongoing), [이세명](https://github.com/3people), [장주섭](https://github.com/wntjq68), [정희재](https://github.com/Hee-Jae)

<details>
<summary>Table of Contents</summary>

- [데이터베이스](#데이터베이스)
- [정규화](#정규화)
- [인덱스 (Index)](#인덱스-(index))
- [트랜잭션(Transaction)과 교착상태](#트랜잭션(transaction)과-교착상태)
- [NoSQL](#nosql)

</details>

---

## 데이터베이스

### 데이터베이스 용어 정리

#### 긍정적 단어 😃

- **독립성 (Data Independence)**
    - 논리적 독립성 : 응용 프로그램과 데이터베이스를 독립시킴으로써, 데이터의 논리적 구조를 변경시키더라도 응용 프로그램은 변경되지 않는다.
    - 물리적 독립성 : 응용 프로그램과 보조기억장치 같은 물리적 장치를 독립시킴으로써, 데이터베이스 시스템의 성능 향상을 위해 새로운 디스크를 도입하더라도 응용 프로그램에는 영향을 주지 않고 데이터의 물리적 구조만을 변경한다.
- **무결성 (Data Integrity)** : 삽입, 삭제, 갱신 등의 연산 후에도 데이터베이스에 저장된 데이터가 정해진 제약 조건을 항상 만족해야 한다.
- **일관성 (Data Consistency)** : 데이터베이스에 저장된 데이터와 특정 질의에 대한 응답이 변함 없이 일정해야 한다.

#### 부정적 단어 🙁

- **종속성 (Data Dependency)** : (↔ 독립성) 응용 프로그램의 구조가 데이터의 구조에 영향을 받는다.
- **중복성 (Data Redundancy)** : 같은 데이터가 중복되어 저장되는 것으로, 데이터 수정/삭제 시 연결된 모든 데이터를 수정/삭제해줘야 하는 문제점이 있다.
- **비일관성 (Data Inconsistency)** : 동일한 데이터의 여러 사본이 서로 다른 값을 보유하고 있는 상태로, 데이터 중복성에 이어서 발생할 수 있다.

### 데이터베이스 시스템의 목적

데이터베이스 시스템이 등장하기 전까지는 운영체제의 의해 지원되는 파일 시스템을 통해 데이터를 관리하였다. 이 때 여러가지 문제점이 존재하는데, 데이터베이스 시스템의 목적은 이 문제점을 해결하기 위하는 데 있다. **파일 시스템을 사용했을 때의 주요 문제점**은 다음과 같다.

- 데이터의 중복과 비일관성
- 데이터 접근 시 필요한 데이터를 편리하고 효율적으로 검색하기 힘들다.
- 데이터가 여러 파일에 흩어져 있고 파일 형식이 서로 다를 수 있다.
- 데이터 동시 접근 시 데이터가 잘못 업데이트될 수 있다.
- 무결성 문제
- 보안 문제

데이터베이스는 여러 사람들이 공유하여 사용할 목적으로 체계화해 통합, 관리하는 데이터의 집합을 말한다. DBMS를 통해 요구를 처리하고, SQL을 사용해 데이터에 접근한다. **데이터베이스**는 다음의 **장점**을 가진다.

- 데이터의 논리적, 물리적 독립성, 일관성, 무결성, 보안성 보장
- 데이터 중복 최소화
- 저장된 자료를 공동으로 이용할 수 있다.
- 데이터를 통합하여 관리할 수 있다.
- 데이터의 실시간 처리가 가능하다.

한편 **단점**도 존재한다.

- 전산화 비용이 증가한다.
- 대용량 디스크로의 집중적인 Access로 과부하(Overhead)가 발생할 수 있다.

### 관계형 데이터베이스 시스템 (RDBMS)

RDBMS는 테이블 기반(Table based) DBMS로, 테이블들의 집합으로 데이터들의 관계를 표현한다.

- 데이터를 테이블 단위로 관리
- 중복 데이터 최소화 (정규화)
- 여러 테이블에 분산되어 있는 데이터를 검색 시 테이블 간의 관계(join)를 이용해 필요한 데이터를 검색

### 데이터베이스 언어

#### DDL (Data Definition Language) : 데이터 정의어

- CREATE, ALTER, DROP, RENAME
- 데이터베이스 객체(table, view, index...)의 구조를 정의 (생성, 변경, 제거)

#### DML (Data Manipulation Language) : 데이터 조작어

- INSERT, SELECT, UPDATE, DELETE
- 데이터베이스 테이블의 레코드를 CRUD (Create, Read, Update, Delete)

#### DCL (Data Control Language) : 데이터 제어어

- GRANT, REVOKE
- 데이터베이스와 그 구조에 대한 접근 권한을 제공하거나 제거

#### TCL (Transaction Control Language) : 트랜잭션 제어어

- COMMIT, ROLLBACK, Savepoint
- DML 명령문으로 수행한 변경을 관리 (트랜잭션 관리)

---

## 정규화

---

## 인덱스 (Index)

아래의 자료에서 자세한 설명을 볼 수 있다.

- 작성자 윤가영 | [데이터베이스와 Index](./materials/윤가영_database_&Index.pdf)

---

## 트랜잭션(Transaction)과 교착상태

---

## NoSQL

아래의 자료에서 자세한 설명을 볼 수 있다.

- 작성자 이세명 | [NoSQL](./materials/이세명_database_NoSQL.pdf)

---

## 질의응답

_질문에 대한 답을 말해보며 공부한 내용을 점검할 수 있으며, 클릭하면 답변 내용을 확인할 수 있습니다._

<!-- 데이터베이스 개요 -->

<details>
<summary> 데이터베이스는 왜 사용하나요? </summary>  
<p>

기존에는 파일 시스템을 사용해 데이터를 관리했습니다. 그러나 파일 시스템에는 '데이터 중복', '데이터 불일치', '데이터 보안문제' 등 다양한 문제점을 가지고 있습니다. 데이터베이스를 사용하면 이러한 문제들을 어느 정도 해소할 수 있습니다.

</p>
</details>

<details>
<summary> 데이터베이스의 성능을 좋아지게 하려면 어떤 방법들이 있을까요? </summary>  
<p>

DB설계 튜닝
- 테이블 분해, 통합
- 테이블 정규화
- 적절한 데이터 타입 설정

DBMS 튜닝
- I/O 최소화
- Commit 주기 조정
- Middleware 기능과 연동

SQL 튜닝
- Join 방식 조정
- Index 활용

</p>
</details>

---

<!-- 정규화 -->

<details>
<summary>관계형 데이터베이스 설계의 목표는 무엇일까요?</summary>  
<p>

모든 각각의 릴레이션이 3NF와 BCNF를 이행하도록 하는 것

</p>
</details>

<details>
<summary> 정규화는 왜 할까요? </summary>  
<p>

데이터 생성, 수정, 삭제시 데이터 중복, 불일치 등 갱신 이상을 없애기 위해서 합니다. 데이터베이스의 성능을 높이기 위한 이유도 있습니다. (테이블을 분해해서 중복되는 열을 제거하기 때문에 메모리를 절약할수 있음)

</p>
</details>

<details>
<summary> 제1 정규형은 데이터베이스 정규화에서 사용하는 최소 정규형입니다. 제1 정규형에서 어떤 정규화 과정을 진행하는지 예시를 들어 설명할 수 있나요?</summary>  
<p>

ex1) 핸드폰 번호, 전화 번호를 동일한 칼럼에 중복되어 받는 경우(: 555-403-1659, 02-2651-4656)를 제거합니다.  
ex2) ex1에 대한 중복을 제거하기 위한 여러개의 전화번호 행을 두는 것(동일한 도메인과 의미를 두는 것은 최소 정규형에 위배)을 제거합니다.  
위와 같은 정규화 과정을 거쳐 제1 정규형이 됩니다.

</p>
</details>
   
<details>
<summary>제3 정규형을 '추이 종속' or '함수적 이행 종속' 단어를 사용하여 설명할 수 있나요?</summary>  
<p>

테이블이 제2 정규형을 만족하며 모든 속성이 기본 키에만 의존하여 다른 키에 의존하지 않는 정규형을 제3 정규형이라고 합니다.  
만약 의존한다면 함수적 이행 종속이 일어나서 A->B->C 순환적으로 모든 클래스가 의존하게 되는 문제가 일어날 수 있습니다.

</p>
</details>

<details>
<summary><strong>개인정보</strong>에 관한 데이터베이스에서 수정 이상이 일어나 select로 정확한 정보 파악이 되지 않아 정규화를 진행했습니다.  
하지만 이전보다 훨씬 느려졌다고 가정해봅시다. 지원자는 반정규화를 진행할것입니까?
</summary>
<p>

반정규화는 진행하면 안됩니다. 개인정보에 관한 데이터베이스로서 데이터의 무결성과 보안이 제일 중요합니다.   
만약 반정규화로 인해 '삽입, 삭제, 수정 이상'이 발생하는 경우에는 데이터의 무결성이 깨질 수 있고 더군다나 개인정보라서 데이터의 무결성이 깨지면 복원에 큰 어려움이 있습니다. 따라서 반정규화가 아닌 데이터베이스 튜닝, 재구성이 필요해 보입니다.
   
</p>
</details>

<details>
<summary> 정규화 작업 이후, 알맞게 정규화를 했는지 검증하고 싶을땐 어떻게 할까요? </summary>  
<p>

테이블 분해 이후 무손실 조인을 검사해봅니다.  
테이블 분해 이후 함수의 종속성이 보존되는지 확인합니다.

</p>
</details>

---

<!-- Index -->

---

<!-- NoSQL -->

---

## Reference

> - reference
